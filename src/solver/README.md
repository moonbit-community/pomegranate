# CDCL SAT Solver (Algorithm Overview)

本实现采用经典的 CDCL（Conflict-Driven Clause Learning）框架，并结合多种实用优化策略提升性能与稳定性。以下仅描述算法思路与使用的优化技术。

## 主流程概览

1. 初始化：加载 CNF 子句，处理所有单子句并进行初始传播。  
2. 迭代搜索：  
   - 传播：通过布尔约束传播扩展赋值。  
   - 冲突：若发生冲突，执行 1‑UIP 分析学习子句并回溯。  
   - 否则：根据启发式选择决策变量并继续搜索。  
3. 终止：无可决策变量时返回 SAT；在决策层 0 冲突时返回 UNSAT。

## 关键优化技术

### 1) 双监视字面量（Two‑Watched Literals）+ Blocker
- 每个子句维护两个监视字面量。  
- 当某字面量变真，仅扫描其“取反”所关联的监视列表。  
- 使用 blocker 快速判断子句已满足，减少不必要的遍历。

### 2) 冲突分析：1‑UIP 学习 + 非顺序回溯
- 使用 1‑UIP（First Unique Implication Point）解析，形成学习子句。  
- 学习子句的首字面量为 UIP，对应直接断言；  
  第二高决策层字面量用于确定回溯层级（非顺序回溯）。  

### 3) LBD（Literal Block Distance）
- 统计学习子句中出现的不同决策层数量（LBD 值）。  
- LBD 参与重启策略和子句保留/删除策略（见下）。

### 4) 动态重启（LBD 快慢平均）
- 维护“快”和“慢”两种 LBD 平均值。  
- 当短期 LBD 明显劣化时触发重启，以跳出停滞搜索区。

### 5) 学习子句削减（Clause Reduction）
- 保留所有原始子句。  
- 对学习子句进行削减：随机删除 LBD 较高（如 ≥5）的部分子句。  
- 通过控制学习库规模降低传播与分析开销。

### 6) VSIDS 分支启发式（最大堆）
- 冲突中涉及变量提升活动度。  
- 活动度使用衰减系数，周期性缩放避免溢出。  
- 通过最大堆高效选取最高活动变量进行决策。

### 7) 相位保存与重相位（Phase Saving / Rephase）
- 回溯时保存变量上一次赋值极性。  
- 重启时优先使用“局部最佳”相位。  
- 以一定概率进行相位翻转或随机化，改善搜索多样性。

## 小结

该实现以 CDCL 为核心，结合 watched‑literals、1‑UIP 学习、LBD 驱动的重启与削减、VSIDS 分支、相位保存与随机重相位等优化，实现了较为完整的现代 SAT 求解器策略组合。
